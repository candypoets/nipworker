import { ByteString } from "src/lib/ByteString";
// automatically generated by the FlatBuffers compiler, do not modify

/* eslint-disable @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any, @typescript-eslint/no-non-null-assertion */

import * as flatbuffers from 'flatbuffers';

import { NostrEvent, NostrEventT } from '../../nostr/fb/nostr-event.js';
import { ParsedEvent, ParsedEventT } from '../../nostr/fb/parsed-event.js';


export class OutEnvelope implements flatbuffers.IUnpackableObject<OutEnvelopeT> {
  bb: flatbuffers.ByteBuffer|null = null;
  bb_pos = 0;
  __init(i:number, bb:flatbuffers.ByteBuffer):OutEnvelope {
  this.bb_pos = i;
  this.bb = bb;
  return this;
}

static getRootAsOutEnvelope(bb:flatbuffers.ByteBuffer, obj?:OutEnvelope):OutEnvelope {
  return (obj || new OutEnvelope()).__init(bb.readInt32(bb.position()) + bb.position(), bb);
}

static getSizePrefixedRootAsOutEnvelope(bb:flatbuffers.ByteBuffer, obj?:OutEnvelope):OutEnvelope {
  bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);
  return (obj || new OutEnvelope()).__init(bb.readInt32(bb.position()) + bb.position(), bb);
}

subId(): ByteString|null
subId(optionalEncoding:flatbuffers.Encoding): ByteString|Uint8Array|null
subId(optionalEncoding?:any): ByteString|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 4);
  return offset ? this.bb!.__stringByteString(this.bb_pos + offset, optionalEncoding) : null;
}

url(): ByteString|null
url(optionalEncoding:flatbuffers.Encoding): ByteString|Uint8Array|null
url(optionalEncoding?:any): ByteString|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 6);
  return offset ? this.bb!.__stringByteString(this.bb_pos + offset, optionalEncoding) : null;
}

kind(): ByteString|null
kind(optionalEncoding:flatbuffers.Encoding): ByteString|Uint8Array|null
kind(optionalEncoding?:any): ByteString|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 8);
  return offset ? this.bb!.__stringByteString(this.bb_pos + offset, optionalEncoding) : null;
}

isEose():boolean {
  const offset = this.bb!.__offset(this.bb_pos, 10);
  return offset ? !!this.bb!.readInt8(this.bb_pos + offset) : false;
}

event(obj?:NostrEvent):NostrEvent|null {
  const offset = this.bb!.__offset(this.bb_pos, 12);
  return offset ? (obj || new NostrEvent()).__init(this.bb!.__indirect(this.bb_pos + offset), this.bb!) : null;
}

parsedEvent(obj?:ParsedEvent):ParsedEvent|null {
  const offset = this.bb!.__offset(this.bb_pos, 14);
  return offset ? (obj || new ParsedEvent()).__init(this.bb!.__indirect(this.bb_pos + offset), this.bb!) : null;
}

message(): ByteString|null
message(optionalEncoding:flatbuffers.Encoding): ByteString|Uint8Array|null
message(optionalEncoding?:any): ByteString|Uint8Array|null {
  const offset = this.bb!.__offset(this.bb_pos, 16);
  return offset ? this.bb!.__stringByteString(this.bb_pos + offset, optionalEncoding) : null;
}

success():boolean {
  const offset = this.bb!.__offset(this.bb_pos, 18);
  return offset ? !!this.bb!.readInt8(this.bb_pos + offset) : false;
}

static startOutEnvelope(builder:flatbuffers.Builder) {
  builder.startObject(8);
}

static addSubId(builder:flatbuffers.Builder, subIdOffset:flatbuffers.Offset) {
  builder.addFieldOffset(0, subIdOffset, 0);
}

static addUrl(builder:flatbuffers.Builder, urlOffset:flatbuffers.Offset) {
  builder.addFieldOffset(1, urlOffset, 0);
}

static addKind(builder:flatbuffers.Builder, kindOffset:flatbuffers.Offset) {
  builder.addFieldOffset(2, kindOffset, 0);
}

static addIsEose(builder:flatbuffers.Builder, isEose:boolean) {
  builder.addFieldInt8(3, +isEose, +false);
}

static addEvent(builder:flatbuffers.Builder, eventOffset:flatbuffers.Offset) {
  builder.addFieldOffset(4, eventOffset, 0);
}

static addParsedEvent(builder:flatbuffers.Builder, parsedEventOffset:flatbuffers.Offset) {
  builder.addFieldOffset(5, parsedEventOffset, 0);
}

static addMessage(builder:flatbuffers.Builder, messageOffset:flatbuffers.Offset) {
  builder.addFieldOffset(6, messageOffset, 0);
}

static addSuccess(builder:flatbuffers.Builder, success:boolean) {
  builder.addFieldInt8(7, +success, +false);
}

static endOutEnvelope(builder:flatbuffers.Builder):flatbuffers.Offset {
  const offset = builder.endObject();
  builder.requiredField(offset, 4) // sub_id
  builder.requiredField(offset, 8) // kind
  return offset;
}


unpack(): OutEnvelopeT {
  return new OutEnvelopeT(
    this.subId(),
    this.url(),
    this.kind(),
    this.isEose(),
    (this.event() !== null ? this.event()!.unpack() : null),
    (this.parsedEvent() !== null ? this.parsedEvent()!.unpack() : null),
    this.message(),
    this.success()
  );
}


unpackTo(_o: OutEnvelopeT): void {
  _o.subId = this.subId();
  _o.url = this.url();
  _o.kind = this.kind();
  _o.isEose = this.isEose();
  _o.event = (this.event() !== null ? this.event()!.unpack() : null);
  _o.parsedEvent = (this.parsedEvent() !== null ? this.parsedEvent()!.unpack() : null);
  _o.message = this.message();
  _o.success = this.success();
}
}

export class OutEnvelopeT implements flatbuffers.IGeneratedObject {
constructor(
  public subId: ByteString|Uint8Array|null = null,
  public url: ByteString|Uint8Array|null = null,
  public kind: ByteString|Uint8Array|null = null,
  public isEose: boolean = false,
  public event: NostrEventT|null = null,
  public parsedEvent: ParsedEventT|null = null,
  public message: ByteString|Uint8Array|null = null,
  public success: boolean = false
){}


pack(builder:flatbuffers.Builder): flatbuffers.Offset {
  const subId = (this.subId !== null ? builder.createString(this.subId!) : 0);
  const url = (this.url !== null ? builder.createString(this.url!) : 0);
  const kind = (this.kind !== null ? builder.createString(this.kind!) : 0);
  const event = (this.event !== null ? this.event!.pack(builder) : 0);
  const parsedEvent = (this.parsedEvent !== null ? this.parsedEvent!.pack(builder) : 0);
  const message = (this.message !== null ? builder.createString(this.message!) : 0);

  OutEnvelope.startOutEnvelope(builder);
  OutEnvelope.addSubId(builder, subId);
  OutEnvelope.addUrl(builder, url);
  OutEnvelope.addKind(builder, kind);
  OutEnvelope.addIsEose(builder, this.isEose);
  OutEnvelope.addEvent(builder, event);
  OutEnvelope.addParsedEvent(builder, parsedEvent);
  OutEnvelope.addMessage(builder, message);
  OutEnvelope.addSuccess(builder, this.success);

  return OutEnvelope.endOutEnvelope(builder);
}
}
